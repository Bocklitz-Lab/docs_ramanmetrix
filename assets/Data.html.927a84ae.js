import{r as s,o as r,c as o,a as e,b as n,w as l,F as d,d as a,e as t}from"./app.d38faebc.js";import{_ as m}from"./plugin-vue_export-helper.21dcd24c.js";var c="/assets/metadata_table_1.c4d35134.png",p="/assets/metadata_table_2.c76084cc.png",h="/assets/metadata_table_3.4abac42a.png",u="/assets/metadata_table_4.c73c4875.png",f="/assets/metadata_table_5.dbe9fcd1.png";const b={},g=a('<h1 id="data-input" tabindex="-1"><a class="header-anchor" href="#data-input" aria-hidden="true">#</a> Data Input</h1><h2 id="data-structure-types" tabindex="-1"><a class="header-anchor" href="#data-structure-types" aria-hidden="true">#</a> Data Structure Types</h2><p>Prior to importing data, the spectral data has to be exported from the device\u2019s manufacturer software in one of the supported formats:</p><ul><li><p>*<em>.spc</em> data files with single or multiple Raman spectra (tested with WITec and Renishaw devises). May - fail to parse the date automatically, so the date should be provided in the metadata.</p></li><li><p>*<em>.txt</em> files with single spectra. The files should contain wavenumbers in a first column and the spectral intensities in the second column. The columns should be separated with a tab stop symbol.</p></li><li><p>*<em>.txt</em> files with multiple spectra (time series and scans). Either of two structures can be used:</p><ul><li>Generic (e.g. WITec Table export) format with spectra in columns (preferably) or rows. The first column/row should contain the wavenumber axis. No additional columns/rows or column/row names are allowed.</li><li>Format compatible with files exported from Renishaw. Spectrum indexes, timestamp, or coordinates should be indicated in columns for each wavenumber index of each spectrum; wavenumbers and the respective spectral intensities should be indicated in two columns named \u201C#Wave\u201D and \u201C#Intensity\u201D. The columns should be separated with a tab stop symbol.</li><li>spectra in rows, spectrum index or timestamp as row names, and wavenumbers as column names. The columns should be separated with a tab stop symbol; <em>*.spc</em> data files with single or multiple Raman spectra (tested with WITec and Renishaw devises).<em>*.lpe</em> data files (native rapID BPE format) with multiple spectra.</li></ul></li><li><p><em>*.csv</em> file with multiple spectra in rows, without row names. The wavenumbers have to be specified as a respective column names. The file also should contain a mandatory column <em>DateTime</em> with a timestamp (YYYY-MM-DD hh:mm:ss).</p></li></ul><h2 id="supported-devices" tabindex="-1"><a class="header-anchor" href="#supported-devices" aria-hidden="true">#</a> Supported Devices</h2><p>General instruction:</p><ol><li>Export data using the software coupled to your Raman device.</li><li>Structure/restructure your data to simplify the metadata file construction.</li><li>Create a metadata file.</li><li>Compress data and metadata to one *<em>.zip</em> file.</li></ol>',7),w={class:"custom-container danger"},v=e("p",{class:"custom-container-title"},"DANGER",-1),y=e("p",null,[t("! X-axis units "),e("strong",null,[t("cm"),e("sup",null,"-1")])],-1),x=t("! When dates are not identified automatically by the software, the metadata file must contain the \u201Cdate\u201D column. (see "),_=t("Providing Metadata"),T=t(")"),I=a('<p>Below is a list of Raman devices which are supported by the software or used by active users. We describe here how to export data from Raman device manufacturer software in a way that it will be readable by <strong>RAMAN</strong>METRIX.</p><h3 id="bpe-bio-particle-explorer-from-rap-id" tabindex="-1"><a class="header-anchor" href="#bpe-bio-particle-explorer-from-rap-id" aria-hidden="true">#</a> BPE (Bio Particle Explorer from rap.ID)</h3><p><strong>File format:</strong> *<em>.lpe</em> files - spectra in text format are compressed along with metadata and images.</p><p>Each spectrum: .txt file where data saved as a Table with two columns of data: wavenumber and spectral intensity. The timestamp is internally included in the filename (<em>SpRaw_ YYMMDD_hhmmss.txt</em>) and the dates will be automatically identified by the software.</p><p>Extract files using a program for unzipping archives or R script OpenLPE.R (contact Julian Hniopek).</p><h3 id="witec-project-four-software" tabindex="-1"><a class="header-anchor" href="#witec-project-four-software" aria-hidden="true">#</a> WITec (Project Four software)</h3><p>Extract files using Spc or Table export options in the Project Four software.</p><p>\u201CSpc\u201D and \u201CTable\u201D export options work for single spectra, time series and scans.</p><ul><li>Export --&gt; SPC</li></ul><p><strong>Format:</strong> Single spectrum data, time series and scans data structure types can be exported as *<em>.spc</em> file.</p><ul><li>Export --&gt; Table</li></ul><p><strong>Format:</strong> table with columns, first column \u2013 wavenumber, next columns \u2013 intensity (each column contains single spectra). Should be exported with a default Filter options: \u2022 Column Delimiter: \u201CTab\u201D \u2022 Decimal Separator: \u201C. \u201C</p><ul><li>Export --&gt; Matlab, JCAMP-DX, Graph ASCII - are <strong>not</strong> supported.</li></ul><h3 id="renishaw-wire-software" tabindex="-1"><a class="header-anchor" href="#renishaw-wire-software" aria-hidden="true">#</a> Renishaw (Wire software)</h3><p>Extract files using Spc or Txt export options in the Renishaw\u2019s Wire software.</p><ul><li>Export --&gt; SPC</li></ul><p><strong>Format:</strong> Single spectrum data, timeseries, and scans data structure types can be exported as *<em>.spc</em> file</p><ul><li>Export --&gt; As txt</li></ul><p><strong>Format:</strong></p><p>Single spectrum: table with columns: first column \u2013 wavenumber, second \u2013 intensity</p><p>Time series: table with three columns of data including their names (#Time, #Wave, #Intensity)</p><p>Scan: 4 columns including their names (#X, #Y, #Wave, #Intensity). Please, check that txt file is exported with:</p><ul><li><p>Column Delimiter \u201CTab\u201D</p></li><li><p>Decimal Separator \u201C. \u201C</p></li></ul><h3 id="horiba-labspec-software" tabindex="-1"><a class="header-anchor" href="#horiba-labspec-software" aria-hidden="true">#</a> Horiba (LabSpec software)</h3><ul><li>Export --&gt; SPC</li></ul><p><strong>Format:</strong> Single spectrum data, timeseries, and scans data structure types can be exported as *<em>.spc</em> file</p><ul><li>Table format</li></ul><p><strong>Format:</strong> table with spectra in rows (without row names): First row (or column names) should contain the wavenumber data</p><h3 id="kaiser-raman-holograms-software" tabindex="-1"><a class="header-anchor" href="#kaiser-raman-holograms-software" aria-hidden="true">#</a> Kaiser Raman (Holograms software)</h3><p>Data should be exported as *<em>.spc</em> files.</p><h3 id="ht-raman-ipht-iwan-schie" tabindex="-1"><a class="header-anchor" href="#ht-raman-ipht-iwan-schie" aria-hidden="true">#</a> HT Raman (IPHT, Iwan Schie)</h3><p>Data is saved as separated files with Y-axis. No X-axis file. Files have a .csv extension and columns separated with a \u201CTab\u201D.</p><p>This data format is <strong>not</strong> readable by the software and should be converted into one of the supported formats prior to import into <strong>RAMAN</strong>METRIX. Please contact the developer team for more details.</p><h2 id="providing-metadata" tabindex="-1"><a class="header-anchor" href="#providing-metadata" aria-hidden="true">#</a> Providing Metadata</h2><p>There are two ways to provide metadata: folder structure and a metadata table. Both can be used simultaneously, <strong>but values from a metadata table overwrite the labels obtained from the folder structure</strong>.</p><p>The metadata are needed for calibration, cross-validation, predictive modeling, and data visualization. For example, standard spectra are linked to the sample spectra both by the device name and by the dates from the timestamps.</p><p>Intensity calibration and dark background subtraction can only be performed if respective measurements are specified in the metadata table.</p><p>Prior to importing the data, the files with spectral data and, optionally, the metadata files should be packed into a ZIP archive.</p><h3 id="metadata-table" tabindex="-1"><a class="header-anchor" href="#metadata-table" aria-hidden="true">#</a> Metadata Table</h3><p>The metadata should be provided in the form of a table, saved as a CSV, XLS, or XLSX file within the ZIP file in addition to the data. Multiple metadata files are allowed (e.g. one per replicate). The filename of metadata file should always contain the word \u201Cmetadata\u201D.</p><p>The default columns (case-sensitive names) are:</p><ul><li><strong>file</strong>: starting pattern of the file path within the ZIP file. Either full path to the file or a starting pattern of the full path should be specified. If ambiguous patterns are specified, then the longer pattern has a priority (e.g. values in row <em>\u201Cfolder/subfolder/\u201D</em> will overwrite metadata for the spectra in the subfolder, even if different metadata are set for the <em>\u201Cfolder/\u201D</em>). If no metadata is provided, then the \u201Cfile\u201D column will be identical to filename and metadata are generated from the folder structure.</li><li><strong>standard</strong>: logical (True or False values). <em>\u201CTrue\u201D</em> value indicates the files with wavenumber calibration standard. All other spectra should be labeled as <em>\u201CFalse\u201D</em>.</li><li><strong>standard_intensity</strong>: logical. Indicates the files with intensity standard spectra. The column may be skipped if no intensity standard was measured.</li><li><strong>dark_bg</strong>: logical. Indicates the files with dark background spectra. The column may be skipped if no dark background was measured.</li><li><strong>reference_sample</strong>: logical. Indicates the files that should only be used as reference EMSC and quality filters based on correlation. If the column is skipped, mean spectrum over the dataset is used as the reference.</li><li><strong>date</strong>: dates of measurements. Used at wavenumber and (optionally) intensity calibration steps, as data from each date is calibrated separately. Should be specified if the dates cannot be detected correctly from files (e.g. <em>*.lpe</em>,<em>*.csv</em>, or some <em>*.spc</em> file formats) and folder structure (timestamps YYMMDD_hhmmss in file/folder names).</li><li><strong>batch</strong>: default data segments for batch-out cross-validation (sets of independent measurements).</li><li><strong>type</strong>: default class labels (the grouping that has most relevance).</li><li><strong>device</strong>: measurement device name, id, or label. Used at calibration steps, as data from each device is calibrated separately. Should be specified if cannot be detected correctly from folder structure (the top folder name within the imported <em>*.zip</em> file). Other additional columns can be used as responses for the regression, alternative grouping for the classification and cross-validation, or to define how the spectra should be aggregated.</li></ul><h3 id="metadata-for-the-calibration" tabindex="-1"><a class="header-anchor" href="#metadata-for-the-calibration" aria-hidden="true">#</a> Metadata for the calibration</h3><p>The <em>\u201Cdate\u201D</em> column should contain the measurement date. If the column is missing, the timestamps from the folder structure or the dates embedded into the data object (<em>.lpe,</em>.csv, or some *.spc file formats) are used.</p><p>Both <em>\u201Cdate\u201D</em> and <em>\u201Cdevice\u201D</em> labels are needed to perform spectral calibration.</p><p>Columns <em>\u201Cstandard\u201D</em>, <em>\u201Cstandard_intensity\u201D</em>, and <em>\u201Cdark_bg\u201D</em> should contain Boolean values (<strong>true</strong> or <strong>false</strong>). The <strong>true</strong> values in the respective columns indicate the measurements of standard materials for wavenumber calibration, for intensity calibration, and dark background subtraction, respectively.</p><h3 id="step-by-step-instruction" tabindex="-1"><a class="header-anchor" href="#step-by-step-instruction" aria-hidden="true">#</a> Step-by-step instruction</h3><ol><li><p>Open MS Excel and name the columns <em>\u201Cfile\u201D, \u201Cstandard\u201D, \u201Cdevice\u201D, \u201Cdate\u201D, \u201Ctype\u201D,</em> and <em>\u201Cbatch\u201D</em>.</p><p><img src="'+c+'" alt="Image from alias"></p><div class="custom-container tip"><p class="custom-container-title">TIPS</p><p>a. You may add other columns with important information about the samples and use the order of the columns that is convenient for you.</p><p>b. If the intensity standard or dark current were measured, then the columns \u201Cstandard_intensity\u201D and \u201Cdark_bg\u201D (respectively) should be added to the table and used in a way similar to the \u201Cstandard\u201D column.</p></div></li><li><p>Copy the path to the data files within the ZIP file to the metadata table and fill out the other columns of the metadata table. For the sample data set value in <em>\u201Cstandard\u201D</em> column to FALSE.</p><p><img src="'+p+'" alt="Image from alias"></p></li><li><p>Copy the path to the standard data, set value in a <em>\u201Cstandard\u201D</em> column into <em>\u201CTRUE\u201D</em>, specify the device and the date of measurement in the respective columns.</p><p><img src="'+h+'" alt="Image from alias"></p></li><li><p>Repeat the process for each folder and save the file with the word <em>\u201Cmetadata\u201D</em> in the filename.</p><p><img src="'+u+'" alt="Image from alias"></p></li><li><p>Put the metadata file inside the ZIP file (e.g. using \u201CDrag and drop\u201D method).</p><p><img src="'+f+'" alt="Image from alias"></p></li></ol><h3 id="defined-from-the-folder-structure" tabindex="-1"><a class="header-anchor" href="#defined-from-the-folder-structure" aria-hidden="true">#</a> Defined from the folder structure</h3><p>Besides providing labels as a separate metadata file, the files might be organized into a specific folder structure that represents labels:</p><ul><li><p>Files with single spectra have to be placed in the folders of the following structure: <em>\u201C$device/.../$type/$batch/$SingleSpectrumFile.txt\u201D</em></p></li><li><p>Files with multiple spectra are considered as batches, so no additional folder for batches should be created. Instead, they should be placed in: <em>\u201C$device/.../$type/\u201D</em></p></li><li><p>Standard spectra (or folders with standard spectra) should be placed in subfolders which name equals to <em>\u201CAAP\u201D</em> or contains <em>\u201C4-AAP\u201D</em> or <em>\u201C4AAP\u201D</em>. These subfolders may be placed anywhere inside the <em>\u201C$device\u201D</em> folder.</p></li></ul><p>The device name is specified by the top folder within the ZIP file. The timestamps are embedded in the <em>.spc,</em>.lpe, and *.csv files.</p><p>The pattern YYMMDD_hhmmss in file and folder names is interpreted as timestamp. For example, the timestamp \u201C190530_121519\u201D will be taken from the file, path to which is <em>\u201Cdata_0/e12300123_102030/s19161010_151515/May30batch2/Sp_20190530_121519.txt\u201D</em>.</p><p>If no info about measurement date is detected, then the batch name is used to link standard data to the sample data. In this case, the standard spectra should be placed in folders named according to the batch/replicate labels inside the folders with standard data (for example in <em>\u201Cdata_0/AAC/May30batch2/\u201D</em>).</p><p>If the dates cannot be detected correctly from folder structure or file content, the date should be specified in the metadata file.</p><p>When the standard spectra are not available or cannot be linked to the data correctly using the date and device name, the data are approximated onto the new wavenumber axis without calibration.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>It is preferred to provide the metadata table.</p></div>',57);function S(k,P){const i=s("RouterLink");return r(),o(d,null,[g,e("div",w,[v,y,e("p",null,[x,n(i,{to:"/documentation/Data.html#providing-metadata"},{default:l(()=>[_]),_:1}),T])]),I],64)}var F=m(b,[["render",S]]);export{F as default};
