import{_ as r,r as n,o as l,c as d,a as e,b as i,w as o,F as m,d as a,e as t}from"./app.831347b6.js";var c="/assets/metadata_generated.bfa1e829.png",p="/assets/metadata_table_1.c4d35134.png",h="/assets/metadata_table_2.c76084cc.png",u="/assets/metadata_table_3.4abac42a.png",f="/assets/metadata_table_4.c73c4875.png",b="/assets/metadata_table_5.dbe9fcd1.png";const g={},w=a('<h1 id="data-input" tabindex="-1"><a class="header-anchor" href="#data-input" aria-hidden="true">#</a> Data Input</h1><h2 id="data-structure-types" tabindex="-1"><a class="header-anchor" href="#data-structure-types" aria-hidden="true">#</a> Data Structure Types</h2><div class="custom-container danger"><p class="custom-container-title">DANGER</p><p>! X-axis units need to be in <strong>cm<sup>-1</sup></strong></p></div><p>Prior to importing data, the spectral data has to be exported from the device\u2019s manufacturer software in one of the supported formats:</p>',4),_=a("<li><p><em>*.spc</em> data files with single or multiple Raman spectra (tested with WITec and Renishaw devices). May fail to parse the date automatically, so the date should be provided in the metadata.</p></li><li><p><em>*.jdx</em> files with single or multiple spectra in the same format as <em>*.txt</em> files below. Lines that start with &quot;#&quot; are ignored (except for Renishaw format).</p></li><li><p><em>*.txt</em> files with single spectra. The files should contain wavenumbers in a first column and the spectral intensities in the second column. The columns should be separated with a tab stop symbol. No additional columns/rows or column/row names are allowed.</p></li><li><p><em>*.txt</em> files with multiple spectra (time series and scans). Either of the following structures can be used:</p><ul><li>Generic (e.g. WITec Table export) format with spectra in columns (preferably) or rows. The first column/row should contain the wavenumber axis. No additional columns/rows or column/row names are allowed.</li><li>Spectra in rows, spectrum index or timestamp as row names, and wavenumbers as column names. The columns should be separated with a tab stop symbol.</li><li>Format compatible with files exported from Renishaw. Spectrum indexes, timestamp, or coordinates should be indicated in columns for each wavenumber index of each spectrum; wavenumbers and the respective spectral intensities should be indicated in two columns named \u201C#Wave\u201D and \u201C#Intensity\u201D. The columns should be separated with a tab stop symbol.</li></ul></li><li><p><em>*.lpe</em> data files (native rapID BPE format) with multiple spectra.</p></li><li><p><em>*.wip</em> data files from WITec. May not support special cases or all devices.</p></li><li><p><em>*.wdf</em> data files from Renishaw WiRE software. May not support special cases or all devices.</p></li><li><p><em>*.csv</em> file with multiple spectra and a mandatory timestamp for each spectrum. These files should contain spectra in rows, with wavenumbers specified as column names. The timestamp (YYYY-MM-DD hh:mm:ss) should be provided in the <em>DateTime</em> column.</p></li>",8),v=e("em",null,"*.txt",-1),y=t(" and "),x=e("em",null,"*.csv",-1),I=t(" files without wavenumber axis (starting from "),T=e("em",null,"version 0.5.1",-1),S=t(") with multiple or single spectra. Requires setting the relation between pixel index (idx) and the respective wavenumber position (wn) in the parameters file and referencing that relation in the metadata "),R=e("em",null,"device_wn",-1),M=t(" column. See an example for "),P=t("HT Raman"),D=t(" below."),k=e("h2",{id:"supported-devices",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#supported-devices","aria-hidden":"true"},"#"),t(" Supported Devices")],-1),A=e("p",null,"General instruction:",-1),E=e("ol",null,[e("li",null,"Export data using the software coupled to your Raman device."),e("li",null,"Structure/restructure your data to simplify the metadata file construction."),e("li",null,"Create a metadata file."),e("li",null,[t("Compress data and metadata to one *"),e("em",null,".zip"),t(" file.")])],-1),F={class:"custom-container danger"},C=e("p",{class:"custom-container-title"},"DANGER",-1),q=t("! When dates are not identified automatically by the software, the metadata file must contain the \u201Cdate\u201D column. (see "),W=t("Providing Metadata"),Y=t(")"),N=a('<p>Below is a list of Raman devices which are supported by the software or used by active users. We describe here how to export data from Raman device manufacturer software in a way that it will be readable by **RAMAN **METRIX.</p><h3 id="bpe-bio-particle-explorer-from-rap-id" tabindex="-1"><a class="header-anchor" href="#bpe-bio-particle-explorer-from-rap-id" aria-hidden="true">#</a> BPE (Bio Particle Explorer from rap.ID)</h3><p><strong>File format:</strong> *<em>.lpe</em> files - spectra in text format are compressed along with metadata and images.</p><p>Each spectrum: .txt file where data saved as a Table with two columns of data: wavenumber and spectral intensity. The timestamp is internally included in the filename (<em>SpRaw_ YYMMDD_hhmmss.txt</em>) and the dates will be automatically identified by the software.</p><p>Extract files using a program for unzipping archives or R script OpenLPE.R (contact Julian Hniopek).</p><h3 id="witec-project-four-software" tabindex="-1"><a class="header-anchor" href="#witec-project-four-software" aria-hidden="true">#</a> WITec (Project Four software)</h3><p><strong>File format:</strong> *<em>.wip</em> files - spectra in binary format stored in WITec format can be used directly in most cases.</p><p>Alternatively, users can extract files in generic formats using Spc or Table export options in the Project FOUR software.</p><p>\u201CSpc\u201D and \u201CTable\u201D export options work for single spectra, time series and scans.</p><ul><li>Export --&gt; SPC</li></ul><p><strong>Format:</strong> Single spectrum data, time series and scans data structure types can be exported as *<em>.spc</em> file.</p><ul><li>Export --&gt; Table</li></ul><p><strong>Format:</strong> table with columns, first column \u2013 wavenumber, next columns \u2013 intensity (each column contains single spectra). Should be exported with a default Filter options: \u2022 Column Delimiter: \u201CTab\u201D \u2022 Decimal Separator: \u201C. \u201C</p><ul><li>Export --&gt; Matlab, JCAMP-DX, Graph ASCII - are <strong>not</strong> supported.</li></ul><h3 id="renishaw-wire-software" tabindex="-1"><a class="header-anchor" href="#renishaw-wire-software" aria-hidden="true">#</a> Renishaw (WiRE software)</h3><p><strong>File format:</strong> *<em>.wdf</em> files - spectra in binary format stored in Renishaw WiRE format can be used directly in most cases.</p><p>Alternatively, users can extract files in generic formats using Renishaw WiRE software:</p><ul><li>Export --&gt; SPC</li></ul><p><strong>Format:</strong> Single spectrum data, timeseries, and scans data structure types can be exported as *<em>.spc</em> file</p><ul><li>Export --&gt; As txt</li></ul><p><strong>Format:</strong></p><p>Single spectrum: table with columns: first column \u2013 wavenumber, second \u2013 intensity</p><p>Time series: table with three columns of data including their names (#Time, #Wave, #Intensity)</p><p>Scan: 4 columns including their names (#X, #Y, #Wave, #Intensity). Please, check that txt file is exported with:</p><ul><li><p>Column Delimiter \u201CTab\u201D</p></li><li><p>Decimal Separator \u201C. \u201C</p></li></ul><h3 id="horiba-labspec-software" tabindex="-1"><a class="header-anchor" href="#horiba-labspec-software" aria-hidden="true">#</a> Horiba (LabSpec software)</h3><ul><li>Export --&gt; SPC</li></ul><p><strong>Format:</strong> Single spectrum data, timeseries, and scans data structure types can be exported as *<em>.spc</em> file</p><ul><li>Table format</li></ul><p><strong>Format:</strong> table with spectra in rows (without row names): First row (or column names) should contain the wavenumber data</p><h3 id="kaiser-raman-holograms-software" tabindex="-1"><a class="header-anchor" href="#kaiser-raman-holograms-software" aria-hidden="true">#</a> Kaiser Raman (Holograms software)</h3><p>Data should be exported as *<em>.spc</em> files.</p><h3 id="ht-raman-ipht-iwan-schie" tabindex="-1"><a class="header-anchor" href="#ht-raman-ipht-iwan-schie" aria-hidden="true">#</a> HT Raman (IPHT, Iwan Schie)</h3><p>Data is saved as intensities with single or multiple spectra per file without wavenumbers.</p><p>The wavenumber axis can be preset in <em>data_device_wn</em> field of parameters file in the following way: <code>&quot;data_device_wn&quot;: {&quot;HTS&quot;: {&quot;idx&quot;: [25, 180, 445, 966, 1029], &quot;wn&quot;: [329, 858, 1648, 2931, 3064], &quot;polyorder&quot;: 2}}</code>. Then, the wavenumber axis can be linked to the data by setting values in <em>device_wn</em> metadata column to <em>HTS</em>.</p><h2 id="providing-metadata" tabindex="-1"><a class="header-anchor" href="#providing-metadata" aria-hidden="true">#</a> Providing Metadata</h2><p>There are two ways to provide metadata: folder structure and a metadata table. Both can be used simultaneously, <strong>but values from a metadata table overwrite the labels obtained from the folder structure</strong>.</p><p>The metadata are needed for calibration, cross-validation, predictive modeling, and data visualization. For example, standard spectra are linked to the sample spectra both by the device name and by the dates from the timestamps.</p><p>Intensity calibration and dark background subtraction can only be performed if respective measurements are specified in the metadata table.</p><p>Prior to importing the data, the files with spectral data and, optionally, the metadata files should be packed into a ZIP archive.</p><h3 id="generate-metadata-template" tabindex="-1"><a class="header-anchor" href="#generate-metadata-template" aria-hidden="true">#</a> Generate metadata template</h3><p>A template for the metadata table can be generated for the specific dataset. To do so, import the ZIP file with spectra, and then click &quot;Export&quot; and then &quot;Templates for metadata&quot;.</p><p><img src="'+c+'" alt="Image from alias"></p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>If the CSV file are not displayed correctly, adjust th CSV settings at the bottom of the RAMANMETRIX left panel.</p></div>',44),X=t("Alternatively, the metadata template can be generated using the stand-alone "),Z=t("Metadata loader"),B=t(" tool."),H=e("h3",{id:"metadata-table",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#metadata-table","aria-hidden":"true"},"#"),t(" Metadata Table")],-1),V={class:"custom-container tip"},L=e("p",{class:"custom-container-title"},"TIP",-1),j=t("Automatically generated metadata templates (see "),G=t("Generate metadata template"),O=t(" below) can save a lot of time, especially for larger data sets."),U=e("p",null,"The metadata should be provided in the form of a table, saved as a CSV, XLS, or XLSX file within the ZIP file in addition to the data. Multiple metadata files are allowed (e.g. one per replicate). The filename of metadata file should always contain the word \u201Cmetadata\u201D.",-1),z=e("p",null,"The default columns (case-sensitive names) are:",-1),$=a("<li><strong>file</strong> or <strong>path</strong>: starting pattern of the file path within the ZIP file. Either full path to the file or a starting pattern of the full path should be specified. If ambiguous patterns are specified, then the longer pattern has a priority (e.g. values in row <em>\u201Cfolder/subfolder/\u201D</em> will overwrite metadata for the spectra in the subfolder, even if different metadata are set for the <em>\u201Cfolder/\u201D</em>). From <em>version 0.5.1</em> values <em>&quot;*&quot;</em> and <em>&quot;.&quot;</em> are special path values that refer to all data that are not listed in the metadata table. If no metadata is provided, then the \u201Cfile\u201D column will be identical to filename and metadata are generated from the folder structure.</li><li><strong>include</strong>: logical (True or False values). <em>\u201CTrue\u201D</em> by default. All spectra labeled as <em>\u201CFalse\u201D</em> are excluded.</li>",2),J=e("strong",null,"device_wn",-1),K=t(" (starting from "),Q=e("em",null,"version 0.5.1",-1),ee=t("): character string referencing custom wavenumber axis defined in from parameters file. Can be useful if the wavenumber axis is missing or is wrong in the files. Set this value to "),te=e("em",null,'"HTS"',-1),ae=t(" for using wavenumber axis preset for "),se=t("HT Raman"),ie=t("."),oe=a("<li><strong>standard</strong>: logical. <em>\u201CFalse\u201D</em> by default. <em>\u201CTrue\u201D</em> value indicates the files with wavenumber calibration standard.</li><li><strong>standard_intensity</strong>: logical. <em>\u201CFalse\u201D</em> by default. Indicates the files with intensity standard spectra. The column may be skipped if no intensity standard was measured.</li><li><strong>dark_bg</strong>: logical. <em>\u201CFalse\u201D</em> by default. Indicates the files with dark background spectra. The column may be skipped if no dark background was measured.</li><li><strong>reference_sample</strong>: logical. <em>\u201CFalse\u201D</em> by default. Indicates the files that should only be used as reference EMSC and quality filters based on correlation. If the column is skipped, mean spectrum over the dataset is used as the reference.</li><li><strong>interferent_sample</strong>: logical. <em>\u201CFalse\u201D</em> by default. Indicates the files that should only be used as interferent EMSC spectra. The spectra indicated in this column are averaged according to the <em>\u201Ctype\u201D</em> groupping and can be selected at the background correction step.</li><li><strong>date</strong>: dates of measurements. Used at wavenumber and (optionally) intensity calibration steps, as data from each date is calibrated separately. Should be specified if the dates cannot be detected correctly from files (e.g. <em>*.lpe</em>,<em>*.csv</em>, or some <em>*.spc</em> file formats) and folder structure (timestamps YYMMDD_hhmmss in file/folder names).</li><li><strong>device</strong>: measurement device name, id, or label. Should be specified if multiple measurement devices are used. Used at calibration steps, as data from each device is calibrated separately.</li><li><strong>batch</strong>: default data segments for batch-out cross-validation (sets of independent measurements).</li><li><strong>type</strong>: default class labels (the grouping that has most relevance). Used for plotting mean spectra per group at data input and normalization steps.</li>",9),re=a('<p>Additional custom columns can be used as responses for the regression, alternative grouping for the classification and cross-validation, or to define how the spectra should be aggregated.</p><h3 id="metadata-for-the-calibration" tabindex="-1"><a class="header-anchor" href="#metadata-for-the-calibration" aria-hidden="true">#</a> Metadata for the calibration</h3><p>The <em>\u201Cdate\u201D</em> column should contain the measurement date to perform spectral calibration. If the column is missing, the timestamps from the folder structure or the dates embedded into the data object (<em>.lpe,</em>.csv, or some *.spc file formats) are used.</p><p>If multiple devices are used, then the <em>\u201Cdevice\u201D</em> column need to be added.</p><p>Columns <em>\u201Cstandard\u201D</em>, <em>\u201Cstandard_intensity\u201D</em>, and <em>\u201Cdark_bg\u201D</em> should contain Boolean values (<strong>true</strong> or <strong>false</strong>). The <strong>true</strong> values in the respective columns indicate the measurements of standard materials for wavenumber calibration, for intensity calibration, and dark background subtraction, respectively.</p><h3 id="step-by-step-instruction" tabindex="-1"><a class="header-anchor" href="#step-by-step-instruction" aria-hidden="true">#</a> Step-by-step instruction</h3><p>Metadata table can be based on automatically generated template or made from scratch.</p><p><strong>Option 1: generate the table automatically</strong></p>',8),ne=e("li",null,[e("p",null,"Import ZIP file with spectra in RAMANMETRIX.")],-1),le=t("Use "),de=t("Generate metadata template"),me=t(" option to get the CSV templates."),ce=e("li",null,[e("p",null,"Among the exported CSV files (short, long, or auto) select the one most representative for your data set.")],-1),pe=e("li",null,[e("p",null,"Adjust the inputs that were not detected correctly from the folder structure. If needed, add missing or custom columns.")],-1),he=a('<p><strong>Option 2: create a metadata table from scratch</strong></p><ol><li><p>Open MS Excel and name the columns <em>\u201Cfile\u201D, \u201Cstandard\u201D, \u201Cdevice\u201D, \u201Cdate\u201D, \u201Ctype\u201D,</em> and <em>\u201Cbatch\u201D</em>.</p><p><img src="'+p+'" alt="Image from alias"></p><div class="custom-container tip"><p class="custom-container-title">TIPS</p><p>a. You may add other columns with important information about the samples and use the order of the columns that is convenient for you.</p><p>b. If the intensity standard or dark current were measured, then the columns \u201Cstandard_intensity\u201D and \u201Cdark_bg\u201D ( respectively) should be added to the table and used in a way similar to the \u201Cstandard\u201D column.</p></div></li><li><p>Copy the path to the data files within the ZIP file to the metadata table and fill out the other columns of the metadata table. For the sample data set value in <em>\u201Cstandard\u201D</em> column to FALSE.</p><p><img src="'+h+'" alt="Image from alias"></p></li><li><p>Copy the path to the standard data, set value in a <em>\u201Cstandard\u201D</em> column into <em>\u201CTRUE\u201D</em>, specify the device and the date of measurement in the respective columns.</p><p><img src="'+u+'" alt="Image from alias"></p></li><li><p>Repeat the process for each folder</p></li></ol><h3 id="importing-metadata" tabindex="-1"><a class="header-anchor" href="#importing-metadata" aria-hidden="true">#</a> Importing metadata</h3><p>The metadata metadata table should be saved as XLSX or CSV with the word <em>\u201Cmetadata\u201D</em> in the filename.</p><p><img src="'+f+'" alt="Image from alias"></p><p><strong>Option 1: importing metadata separately</strong></p><p>If the metadata files are imported separately, the full path to spectral files within the ZIP file should be specified in the metadata files. The imported metadata overwrites all other metadata.</p><ol><li><p>Import ZIP file with spectra into RAMANMETRIX.</p></li><li><p>Click <strong>Import -&gt; Metadata table(s)</strong> and select one or more metadata files to be imported.</p></li></ol><p><strong>Option 2: importing metadata together with spectra</strong></p><p>If the metadata files are located within the ZIP file, the path to spectral files should be specified in the metadata files relatively to the metadata files location.</p><ol><li><p>Put one (or multiple) the metadata file inside the ZIP file with spectra (e.g. using \u201CDrag and drop\u201D method).</p><p><img src="'+b+'" alt="Image from alias"></p></li><li><p>Import ZIP file with spectra into RAMANMETRIX.</p></li></ol><h3 id="defined-from-the-folder-structure" tabindex="-1"><a class="header-anchor" href="#defined-from-the-folder-structure" aria-hidden="true">#</a> Defined from the folder structure</h3><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>It is preferred to provide the metadata table rather than rely on the automated parsing of folder structure.</p></div><p>Besides providing labels as a separate metadata file, the files might be organized into a specific folder structure that represents labels:</p><ul><li><p>Files with single spectra have to be placed in the folders of the following structure: <em>.../$type/$batch/$SingleSpectrumFile.txt\u201D</em></p></li><li><p>Files with multiple spectra are considered as batches, so no additional folder for batches should be created. Instead, they should be placed in: <em>\u201C.../$type/\u201D</em></p></li><li><p>Standard spectra (or folders with standard spectra) should be placed in subfolders which name equals to <em>\u201CAAP\u201D</em> or contains <em>\u201C4-AAP\u201D</em> or <em>\u201C4AAP\u201D</em>.</p></li></ul><p>The timestamps are embedded in the <em>.spc,</em>.lpe, and *.csv files and can be automatically detected in most cases.</p><p>The last occuring pattern <em>YYMMDD_hhmmss</em> (or <em>YYMMDD-hhmmss</em>) in the file path is interpreted as timestamp. For example, the timestamp \u201C190530_121519\u201D will be taken from the file, path to which is <em>\u201Cdata_0/e12300123_102030/s19161010_151515/May30batch2/Sp_20190530_121519.txt\u201D</em>.</p><p>If the dates cannot be detected correctly from folder structure or file content, the date should be specified in the metadata file.</p><p>If no info about measurement date is detected, then the batch name is used to link standard data to the sample data. In this case, the standard spectra should be placed in folders named according to the batch/replicate labels inside the folders with standard data (for example in <em>\u201Cdata_0/AAC/May30batch2/\u201D</em>).</p><p>When the standard spectra are not available or cannot be linked to the data correctly using the date, the data are approximated onto the new wavenumber axis without calibration.</p>',20);function ue(fe,be){const s=n("RouterLink");return l(),d(m,null,[w,e("ul",null,[_,e("li",null,[e("p",null,[v,y,x,I,T,S,R,M,i(s,{to:"/documentation/Data.html#ht-raman-ipht-iwan-schie"},{default:o(()=>[P]),_:1}),D])])]),k,A,E,e("div",F,[C,e("p",null,[q,i(s,{to:"/documentation/Data.html#providing-metadata"},{default:o(()=>[W]),_:1}),Y])]),N,e("p",null,[X,i(s,{to:"/documentation/Tools.html#metadata-loader"},{default:o(()=>[Z]),_:1}),B]),H,e("div",V,[L,e("p",null,[j,i(s,{to:"/documentation/Data.html#generate-metadata-template"},{default:o(()=>[G]),_:1}),O])]),U,z,e("ul",null,[$,e("li",null,[J,K,Q,ee,te,ae,i(s,{to:"/documentation/Data.html#ht-raman-ipht-iwan-schie"},{default:o(()=>[se]),_:1}),ie]),oe]),re,e("ol",null,[ne,e("li",null,[e("p",null,[le,i(s,{to:"/documentation/Data.html#generate-metadata-template"},{default:o(()=>[de]),_:1}),me])]),ce,pe]),he],64)}var we=r(g,[["render",ue],["__file","Data.html.vue"]]);export{we as default};
