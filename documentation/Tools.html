<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.41">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="192x192" href="/assets/favicons/android-chrome-192x192.png"><link rel="apple-touch-icon" sizes="512X512" href="/assets/favicons/android-chrome-512x512.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/favicons/favicon.ico"><meta name="msapplication-TileColor" content="#3a0839"><meta name="theme-color" content="#ffffff"><title>Tools | RAMANMETRIX Software Documentation</title><meta name="description" content="RAMANMETRIX Software User Documentation">
    <link rel="modulepreload" href="/assets/app.7d0b63b1.js"><link rel="modulepreload" href="/assets/Tools.html.20a5f77a.js"><link rel="modulepreload" href="/assets/Tools.html.e00f7285.js"><link rel="prefetch" href="/assets/index.html.e2f49edf.js"><link rel="prefetch" href="/assets/Data.html.3b543a95.js"><link rel="prefetch" href="/assets/Desktop.html.e938a653.js"><link rel="prefetch" href="/assets/Online.html.11ac7ac1.js"><link rel="prefetch" href="/assets/Press.html.34f21854.js"><link rel="prefetch" href="/assets/index.html.d4727a52.js"><link rel="prefetch" href="/assets/Releases.html.1ac9602e.js"><link rel="prefetch" href="/assets/Started.html.0035dd4a.js"><link rel="prefetch" href="/assets/Tutorial.html.e035227e.js"><link rel="prefetch" href="/assets/404.html.0191d978.js"><link rel="prefetch" href="/assets/index.html.a4b0824d.js"><link rel="prefetch" href="/assets/Data.html.2af01e7f.js"><link rel="prefetch" href="/assets/Desktop.html.8358208f.js"><link rel="prefetch" href="/assets/Online.html.ac92002c.js"><link rel="prefetch" href="/assets/Press.html.0b559c91.js"><link rel="prefetch" href="/assets/index.html.d1096242.js"><link rel="prefetch" href="/assets/Releases.html.f0934854.js"><link rel="prefetch" href="/assets/Started.html.7c88c982.js"><link rel="prefetch" href="/assets/Tutorial.html.f309ccb9.js"><link rel="prefetch" href="/assets/404.html.eb6ba65e.js"><link rel="prefetch" href="/assets/404.a070bc29.js"><link rel="prefetch" href="/assets/Layout.84bad25a.js">
    <link rel="stylesheet" href="/assets/style.389cee33.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/assets/img/logo.png" alt="RAMANMETRIX Software Documentation"><span class="site-name can-hide">RAMANMETRIX Software Documentation</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/documentation/" class="router-link-active" aria-label="Documentation"><!--[--><!--]--> Documentation <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://ramanmetrix.eu" rel="noopener noreferrer" target="_blank" aria-label="RAMANMETRIX online"><!--[--><!--]--> RAMANMETRIX online <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://desktop.ramanmetrix.eu" rel="noopener noreferrer" target="_blank" aria-label="Desktop version"><!--[--><!--]--> Desktop version <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><a href="/documentation/" class="router-link-active" aria-label="Documentation"><!--[--><!--]--> Documentation <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://ramanmetrix.eu" rel="noopener noreferrer" target="_blank" aria-label="RAMANMETRIX online"><!--[--><!--]--> RAMANMETRIX online <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://desktop.ramanmetrix.eu" rel="noopener noreferrer" target="_blank" aria-label="Desktop version"><!--[--><!--]--> Desktop version <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading active"> <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/documentation/Desktop.html" class="sidebar-item" aria-label="Desktop Version"><!--[--><!--]--> Desktop Version <!--[--><!--]--></a><!----></li><li><a href="/documentation/Online.html" class="sidebar-item" aria-label="Online Version"><!--[--><!--]--> Online Version <!--[--><!--]--></a><!----></li><li><a href="/documentation/Started.html" class="sidebar-item" aria-label="Getting Started"><!--[--><!--]--> Getting Started <!--[--><!--]--></a><!----></li><li><a href="/documentation/Data.html" class="sidebar-item" aria-label="Data Input"><!--[--><!--]--> Data Input <!--[--><!--]--></a><!----></li><li><a href="/documentation/Tutorial.html" class="sidebar-item" aria-label="Tutorial"><!--[--><!--]--> Tutorial <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="Tools"><!--[--><!--]--> Tools <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/documentation/Tools.html#command-line-interface-cli" class="router-link-active router-link-exact-active sidebar-item" aria-label="Command line interface (CLI)"><!--[--><!--]--> Command line interface (CLI) <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/documentation/Tools.html#compile-from-source-code" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compile from source code"><!--[--><!--]--> Compile from source code <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#usage" class="router-link-active router-link-exact-active sidebar-item" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/documentation/Tools.html#metadata-loader" class="router-link-active router-link-exact-active sidebar-item" aria-label="Metadata loader"><!--[--><!--]--> Metadata loader <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/documentation/Tools.html#download-and-run-metaloader" class="router-link-active router-link-exact-active sidebar-item" aria-label="Download and run Metaloader"><!--[--><!--]--> Download and run Metaloader <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#compile-from-source-code-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Compile from source code"><!--[--><!--]--> Compile from source code <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#usage-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="Usage"><!--[--><!--]--> Usage <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/documentation/Tools.html#python-module-pyramanmetrix" class="router-link-active router-link-exact-active sidebar-item" aria-label="Python module pyRamanmetrix"><!--[--><!--]--> Python module pyRamanmetrix <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/documentation/Tools.html#prerequisites" class="router-link-active router-link-exact-active sidebar-item" aria-label="Prerequisites"><!--[--><!--]--> Prerequisites <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#importing-pyramanmetrix" class="router-link-active router-link-exact-active sidebar-item" aria-label="Importing pyRamanmetrix"><!--[--><!--]--> Importing pyRamanmetrix <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#preprocess-data-train-and-test-models" class="router-link-active router-link-exact-active sidebar-item" aria-label="Preprocess data, train and test models"><!--[--><!--]--> Preprocess data, train and test models <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/documentation/Tools.html#backend-apis" class="router-link-active router-link-exact-active sidebar-item" aria-label="Backend APIs"><!--[--><!--]--> Backend APIs <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/documentation/Tools.html#access-backend-apis" class="router-link-active router-link-exact-active sidebar-item" aria-label="Access backend APIs"><!--[--><!--]--> Access backend APIs <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#available-apis" class="router-link-active router-link-exact-active sidebar-item" aria-label="Available APIs"><!--[--><!--]--> Available APIs <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#on-a-fly-predictions" class="router-link-active router-link-exact-active sidebar-item" aria-label="On-a-fly predictions"><!--[--><!--]--> On-a-fly predictions <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/documentation/Tools.html#other-examples" class="router-link-active router-link-exact-active sidebar-item" aria-label="Other examples"><!--[--><!--]--> Other examples <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><li><a href="/documentation/Releases.html" class="sidebar-item" aria-label="Software releases"><!--[--><!--]--> Software releases <!--[--><!--]--></a><!----></li><li><a href="/documentation/Press.html" class="sidebar-item" aria-label="Press Kit"><!--[--><!--]--> Press Kit <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="tools" tabindex="-1"><a class="header-anchor" href="#tools" aria-hidden="true">#</a> Tools</h1><h2 id="command-line-interface-cli" tabindex="-1"><a class="header-anchor" href="#command-line-interface-cli" aria-hidden="true">#</a> Command line interface (CLI)</h2><p>Access to RAMANMETRIX CLI tools is possible per request.</p><h3 id="compile-from-source-code" tabindex="-1"><a class="header-anchor" href="#compile-from-source-code" aria-hidden="true">#</a> Compile from source code</h3><p><strong>RAMAN</strong>METRIX CLI comes with two options that can be used, a <strong>flow based</strong> (ramanmetrixCLI.py) version for a guided user experience, or a <strong>argument based</strong>(ramanmetrixArgCLI.py) verison for a more minimal use case or to be used programatically.</p><p><strong>Opition 1:</strong></p><ol><li><p>Clone the repository to a local directory.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>    git clone https://git.photonicdata.science/ramanmetrix-project/ramanmetrix-arg-cli.git 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>Create and activate your virtual environment.</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>    virtualenv your-env-name-here

    your-env-name-here\Scripts\activate
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>Run:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>    pip install -r requirements.txt
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>If the ramanmetrix_backend.exe is not installed in a default location, please take note of the installation pathway to lauch it manually through the CLI prompts. If you are unable to find it, the ramanmetrixArgCLI comes with a search command named exeFinder that can be run to find it.</p></li><li><p>Run:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>    python ramanmetrixCLI.py
            or
    python ramanmetrixArgCLI.py
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><p><strong>Option 2:</strong></p><ol><li>git clone the repository to a local directory (*see optition 1)</li><li>Create and activate your virtual environment (*see optition 1)</li><li>If ramanmetrix_backend.exe is not installed in default location, please take note of installation pathway to lauch it manually through the CLI prompts.</li><li>Run: python setup.py and build the package to a local directory. The program can then be called globally with the following namespace.</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>    python setup.py

    ramanmetrixCLI or ramanmetrixArgCLI
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="usage" tabindex="-1"><a class="header-anchor" href="#usage" aria-hidden="true">#</a> Usage</h3><h4 id="ramanmetrix-argument-cli" tabindex="-1"><a class="header-anchor" href="#ramanmetrix-argument-cli" aria-hidden="true">#</a> RAMANMETRIX Argument CLI</h4><ol><li><p>The user must choose whether to use the offline or online client. If the user would like to use the online client they must call the login command before any other chained commands. The user must provide their username as argument using --username or -u. Example of login call is seen below:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code># connection to online client

ramanmetrixArgCLI login -u Demouser
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>The user can then choose between 4 different analysis pathway commands:</p><ol><li><strong>Train models</strong><ol><li>--online/--offline (-on/-off): chooses which backend client to connect to.</li><li>--params/--noparams (-p/-np): to be set if user wants to upload parameter file.</li><li>--export/--noexport (-x/-nx): to be set if user wants to export model file.</li></ol></li><li><strong>Preprocess</strong><ol><li>--online/--offline (-on/-off): chooses which backend client to connect to.</li><li>--export/--noexport (-x/-nx): to be set if user wants to export model file.</li></ol></li><li><strong>Predict</strong><ol><li>--online/--offline (-on/-off): chooses which backend client to connect to.</li><li>--export/--noexport (-x/-nx): to be set if user wants to export model file.</li></ol></li><li><strong>apiCall</strong><ol><li>--online/--offline (-on/-off): chooses which backend client to connect to.</li><li>--apicall (-a): argument keyword of apicall to make. These pathways are called by keyword and if the online client is chosen by chaining the command after the login command. Every command asks for boolean flags with the most important being --online/--offline(-on/-off) indicating which client to use.</li></ol></li></ol></li></ol><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>#example train model call for online clients

ramanmetrixArgCLI login -u Demouser trainmodel -on -p -x 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="ramanmetrix-flow-cli" tabindex="-1"><a class="header-anchor" href="#ramanmetrix-flow-cli" aria-hidden="true">#</a> RAMANMETRIX Flow CLI</h4><p>The flow based CLI guides the user through a series of prompts that makes similar calls that the argument CLI does but is more user friendly. The user will first be asked if they would like to use the online or offline client. After which the same 4 analysis pathways may be selected for further analysis. After the analysis pathway is finished, the user is asked if they would like to restart the analysis and process more data. An example of the Flow CLI is depicted below:</p><p><img src="/assets/flowCLI.f1fa668c.png" alt="Image from alias"></p><h2 id="metadata-loader" tabindex="-1"><a class="header-anchor" href="#metadata-loader" aria-hidden="true">#</a> Metadata loader</h2><p>A stand-alone tool to generate metadata templates from folder structure.</p><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Similar functionality is available in RAMANMETRIX (see <a href="/documentation/Data.html#generate-metadata-template" class="">Data Input/Providing Metadata/Generate metadata template</a>).</p></div><p>Packaged version of metadata loader is provided together with the desktop version distribution at <code>RAMANMETRIX Setup 0.4.x.zip\Examples and tools\Metadata loader\metaloader.exe</code>.</p><p>Access to the source code is possible per request.</p><h3 id="download-and-run-metaloader" tabindex="-1"><a class="header-anchor" href="#download-and-run-metaloader" aria-hidden="true">#</a> Download and run Metaloader</h3><p>The metaloader app allows the user to automatically load folder/file structures into a data table for creating the necessary metadata table needed for use with the <strong>RAMAN</strong>METRIX client. The program can be run locally or built to a specific operating system as an executbale using rust cargo crate manager. For convience purposes, the most recent pre-built versions for x86_64_windows and linux versions are available for download from the releases section of the gitlab repository <a href="https://git.photonicdata.science/Timothy.holbrook/ramanmetrix-metaloader/-/releases" target="_blank" rel="noopener noreferrer">Metaloader releases<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>.</p><h3 id="compile-from-source-code-1" tabindex="-1"><a class="header-anchor" href="#compile-from-source-code-1" aria-hidden="true">#</a> Compile from source code</h3><p>If the operating system of the user is not prebuilt, the user can easily build the application locally using the following instructions:</p><p><strong>Build locally using rust:</strong></p><ol><li><p>Clone the repository to a local directory</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>git clone https://git.photonicdata.science/Timothy.holbrook/ramanmetrix-metaloader.git
cd ramanmetrix-metaloader
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>Install rust</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>curl --proto &#39;=https&#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>Rust trys to configure the PATH automatically during installation, however if it is not this must be added to enviroment variable path manually. The user can test if <strong>rust</strong> has been added to the PATH via:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>rustc --version
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>The binary can then be built using the following command:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>cargo build --release
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>The OS specifc binary will then be present and ready for use in the <strong>./your-metaloader-dir/target/release</strong></p></li></ol><h3 id="usage-1" tabindex="-1"><a class="header-anchor" href="#usage-1" aria-hidden="true">#</a> Usage</h3><ol><li>Place the binary file where you would like the resulting metatables to be exported, then run the binary via the filebrowser or command line. This will then prompt the user to select the top directory where the metadata folder structure is located and a directory for exporting the resulting metatables. After completion the program will export two versions of the metatable one for folder only structure and one for file-based batch structure.</li><li>The user can learn more about the correct folder structure to use in the following documentation section <a href="https://git.photonicdata.science/Timothy.holbrook/ramanmetrix-metaloader.git" target="_blank" rel="noopener noreferrer">defined from folder structure<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ol><h2 id="python-module-pyramanmetrix" tabindex="-1"><a class="header-anchor" href="#python-module-pyramanmetrix" aria-hidden="true">#</a> Python module pyRamanmetrix</h2><p>The module is accessible in the licensed desktop <strong>RAMAN</strong>METRIX. See details below.</p><h3 id="prerequisites" tabindex="-1"><a class="header-anchor" href="#prerequisites" aria-hidden="true">#</a> Prerequisites</h3><p>Starting from <strong>RAMAN</strong>METRIX <strong>0.4.0</strong>, scripts used for data loading, preprocessing, training, and prediction can be loaded as a python module. The following requirements need to be fulfilled:</p><ul><li><p><strong>RAMAN</strong>METRIX needs to be <a href="/documentation/Desktop.html" class="">installed and licensed</a> on the local computer.</p></li><li><p>The exact compatible version of Python need to be used. The required Python version can be verified using <code>Help -&gt; About</code> in the top menu bar of <strong>RAMAN</strong>METRIX GUI. Python 3.10.4 is compatible with <strong>RAMAN</strong>METRIX 0.4.0 released in August 2022.</p></li></ul><h3 id="importing-pyramanmetrix" tabindex="-1"><a class="header-anchor" href="#importing-pyramanmetrix" aria-hidden="true">#</a> Importing pyRamanmetrix</h3><p>Add path to the <code>RAMANMETRIX/server</code> folder of installed <strong>RAMAN</strong>METRIX to the environmental variable <code>PATH</code>. For example:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>import sys
sys.path.append(r&quot;C:\Program Files\RAMANMETRIX\server&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>The default location for a system-wide installation is <code>C:\Program Files\RAMANMETRIX\server</code> and the location for a per-user installation is <code>%LOCALAPPDATA%\Programs\RAMANMETRIX\server</code>.</p><p>If an older version of <strong>RAMAN</strong>METRIX was previously installed, then the installation could be in a folder named <code>ramanmetrix_desktop</code> instead of <code>RAMANMETRIX</code>.</p><p>Alternatively, to search among all possible default locations of the installation, the following code can be used.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>import sys
import os
for root in [os.getenv(&quot;LOCALAPPDATA&quot;) + &quot;/Programs&quot;, &quot;C:/Program Files&quot;]:    
    for dirname in [&quot;RAMANMETRIX&quot;, &quot;ramanmetrix_desktop&quot;]:
        p = os.path.normpath(os.path.join(root, dirname, &quot;server&quot;))
        if os.path.exists(p):
            print(f&quot;Adding to %PATH%: {p}&quot;)
            sys.path.append(p)
        else:
            print(f&quot;Folder not found: {p}&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Import scripts as package</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>import pyRamanmetrix
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="preprocess-data-train-and-test-models" tabindex="-1"><a class="header-anchor" href="#preprocess-data-train-and-test-models" aria-hidden="true">#</a> Preprocess data, train and test models</h3><p>Import desired modules:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>from pyRamanmetrix import SpData, preprocess, train, predict
from pyRamanmetrix import export_obj2pkl, import_pkl2obj, export_results2zip
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Load training data and parse the metadata:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data = SpData()
data.load(&quot;ascitic-fluid_bacteria_gram-negative(with_metadata).zip&quot;)
data.extract_metadata()[&#39;Metadata tables&#39;]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Set parameters:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data.parameters[&#39;despike_type&#39;] = &#39;default&#39;
data.parameters[&#39;model_validation&#39;] = &#39;batch&#39;
data.parameters[&#39;model_type&#39;] = &#39;pcalda&#39;
data.parameters[&#39;model_ncomp_auto&#39;] = True
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Preprocess data:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data = preprocess.despike(data)
data = preprocess.calibrate(data, update_reference=True)
data = data.get_corr(&quot;corr_calib&quot;)
data = data.aggregate_by(data.parameters[&quot;calib_aggr_by&quot;])
data_calib = data.copy() # optional, may be used for results export
data = preprocess.background(data, update_reference=True)
data = data.aggregate_by(data.parameters[&quot;baseline_aggr_by&quot;])
data = preprocess.normalize(data, update_reference=True)
data = data.get_corr(&quot;corr_prpr&quot;)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Quality check and training:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data = preprocess.quality(data)
data = train(data)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Export parameters and model:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>with open(&quot;exported_model.pkl&quot;, &quot;wb&quot;) as file:
    exported_model, exported_md5 = export_obj2pkl({&quot;parameters&quot;: data.parameters, &quot;models&quot;: data.models})
    print(f&quot;MD5 of exported model: {exported_md5}&quot;)
    file.write(exported_model.read())
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Export results:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>with open(&quot;results.zip&quot;, &quot;wb&quot;) as zf:
    results_zip = export_results2zip(data.parameters, data=data, data_calib=data_calib, models=data.models)
    zf.write(results_zip.read())
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>Load test data, parameters, and model</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data_test = SpData()
data_test.load(&quot;ascitic-fluid_bacteria_minimal_test.zip&quot;)
data_test.extract_metadata()[&#39;Metadata tables&#39;]

with open(&quot;exported_model.pkl&quot;, &quot;rb&quot;) as file:
    imported_model, imported_md5 = import_pkl2obj(file.read())
    print(f&quot;MD5 of imported model: {imported_md5}&quot;)
    data_test.parameters, data_test.models = imported_model[&quot;parameters&quot;], imported_model[&quot;models&quot;]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>Preprocess and predict test data:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>data_test = preprocess.despike(data_test)
data_test = preprocess.calibrate(data_test)
data_test = data_test.get_corr(&quot;corr_calib&quot;)
data_test = data_test.aggregate_by(data_test.parameters[&quot;calib_aggr_by&quot;])
data_test = preprocess.background(data_test)
data_test = data_test.aggregate_by(data_test.parameters[&quot;baseline_aggr_by&quot;])
data_test = preprocess.normalize(data_test)
data_test = data_test.get_corr(&quot;corr_prpr&quot;)
data_test = preprocess.quality(data_test)
data_test = predict(data_test)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>The resulting object contains prediction results as a &#39;dict&#39; under &quot;results&quot; attribute. To see the available dict fields use the following line:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>print(data_test.results.keys())
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>Export results as ZIP file:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>with open(&quot;exported_test_results.zip&quot;, &quot;wb&quot;) as f:
    results_zip = export_results2zip(data_test.parameters, data=data_test, models=data_test.models)
    f.write(results_zip.read())
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="backend-apis" tabindex="-1"><a class="header-anchor" href="#backend-apis" aria-hidden="true">#</a> Backend APIs</h2><p>Backend of <strong>RAMAN</strong>METRIX can be accessed via HTTPS requests from any other software. To use the backend APIs, <a href="/documentation/Desktop.html" class="">install and license</a> <strong>RAMAN</strong>METRIX on your local computer.</p><h3 id="access-backend-apis" tabindex="-1"><a class="header-anchor" href="#access-backend-apis" aria-hidden="true">#</a> Access backend APIs</h3><p><strong>Option 1: running software</strong></p><ol><li>Start <strong>RAMAN</strong>METRIX normally.</li><li>Access backend APIs through <code>http://localhost:5001/api/%API_name%</code>.</li></ol><p><strong>Option 2: start backend using file explorer</strong></p><ol><li>Using file explorer go to the folder where the <code>ramanmetrix_backend.exe</code> is located, e.g.: <code>%LocalAppData%\Programs\RAMANMETRIX\server</code>.</li><li>Double click on <code>ramanmetrix_backend.exe</code>.</li><li>Access backend APIs through <code>http://localhost:5000/api/%API_name%</code>.</li></ol><p><strong>Option 3: start backend from command line</strong></p><ol><li>Press <em>Win+R</em> , type <code>cmd</code> and press <em>Enter</em> to open command prompt.</li><li>Change directory to the <code>server</code> folder of the installed software using <code>cd</code> command, e.g.:<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>cd &quot;%LocalAppData%\Programs\RAMANMETRIX\server&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>Start backend on the specified (e.g. 8000) port<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>ramanmetrix_backend 8000
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li>Access backend APIs on the specified port through <code>http://localhost:8000/api/%API_name%</code>.</li></ol><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Please keep in mind that a correct port has to be used:</p><ul><li>For backend running solely: 5000 or custom specified</li><li>For software running with GUI: 5001 (or 5002, 5003, … for multiple windows running)</li></ul></div><h3 id="available-apis" tabindex="-1"><a class="header-anchor" href="#available-apis" aria-hidden="true">#</a> Available APIs</h3><ul><li><p><code>/api/defaults</code> - accepts parameters in JSON format passed as POST request. <strong>Need to be run to initialize the session!</strong> <em>Python</em> example:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>import requests
response = requests.post(url=&quot;http://localhost:5000/api/defaults&quot;,
    cookies={&quot;session_ramanmetrix_5000&quot;: &quot;session_001&quot;},
    json={&#39;baseline_type&#39;: &#39;snip&#39;, &#39;baseline_iterations&#39;: 40})
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p><code>/api/model_upload</code> - accepts POST requests with a single <strong>model file</strong> (<em>*.pkl</em>) passed as <em>file</em> variable.</p></li><li><p><code>/api/upload_test</code> - accepts POST requests with a single <strong>file with spectra</strong> (<em>*.zip</em>) passed as <em>file</em> variable.</p></li><li><p><code>/api/despike_data</code>, <code>/api/calibrate_data</code>, <code>/api/bg_correct_data</code>, <code>/api/normalize_data</code>, <code>/api/train_model</code> - APIs for <strong>training</strong> data pretreatment, preprocessing, and model construction.</p></li><li><p><code>/api/get_mean_raw_test</code>, <code>/api/test_prpr</code>, <code>/api/test_model</code> - APIs for <strong>test</strong> data pretreatment, preprocessing, and model testing.</p></li><li><p><code>/api/predict_json</code> - The API that is most suitable for on-a-fly predictions. Runs preprocessing and pretreatment of the spectra passed in the request. Accepts JSON request with the following fields: <em>x</em>(list of wavenumber values), <em>y</em>(list of lists with intensity values), <em>standard</em> (optional, list or list of lists with standard spectra), <em>standard_intensity</em> (optional, list of lists with standard intensity spectra), <em>dark_bg</em> (optional, list of lists with measured dark background).</p></li></ul><h3 id="on-a-fly-predictions" tabindex="-1"><a class="header-anchor" href="#on-a-fly-predictions" aria-hidden="true">#</a> On-a-fly predictions</h3><p>First, start <strong>RAMAN</strong>METRIX backend as described in <a href="#access-backend-apis">Access backend APIs</a>.</p><p>Initialize the session.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>import requests
port = 5000                             # port where backend is running (use port 5001 for the version with GUI)
session_id = &#39;unique_session_ID&#39;        # unique session ID (e.g. generated by os.urandom(8).hex())
API = &quot;http://localhost:&quot; + str(port) + &quot;/api/&quot;
cookies = {&quot;session_ramanmetrix_&quot; + str(port): session_id}

# get (initialize) default parameters
response = requests.post(url=API + &quot;defaults&quot;, cookies=cookies)
response.json()
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>Import model from file</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>file_model = &quot;Examples/Predict test data/model_LDA_species.pkl&quot;
response = requests.post(url=API + &quot;model_upload&quot;, cookies=cookies,
                         files={&quot;file&quot;: open(file_model, &#39;rb&#39;)})
response.json()
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Load spectra as <em>dict</em> (compatible with JSON)</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>import json
data = json.load(open(&#39;Backend APIs/data.json&#39;, &#39;r&#39;))
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Send, process and predict data loaded as JSON POST request (single API)</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code>response = requests.post(url=API + &quot;predict_json&quot;, cookies=cookies, json=data)
response.json()
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="other-examples" tabindex="-1"><a class="header-anchor" href="#other-examples" aria-hidden="true">#</a> Other examples</h3><p>A few minimal examples are provided together with the desktop version distribution at <code>RAMANMETRIX Setup 0.4.x.zip\Backend APIs</code>:</p><ul><li><code>minimal_test.html</code> - An example of an <em>HTML</em> form which can be used to submit model and sata and obtain the results.</li><li><code>minimal_training.py</code> - an examples of training the model via API using <em>Python</em>.</li><li><code>minimal_test.py</code> - an examples of applying the model via API using <em>Python</em>.</li><li><code>minimal_hierarchy_test.py.ipynb</code> - a minimal example of applying models sequentially.</li></ul><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/documentation/Tutorial.html" class="" aria-label="Tutorial"><!--[--><!--]--> Tutorial <!--[--><!--]--></a></span><span class="next"><a href="/documentation/Releases.html" class="" aria-label="Software releases"><!--[--><!--]--> Software releases <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.7d0b63b1.js" defer></script>
  </body>
</html>
