<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Data Input | Ramanmetrix software</title>
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="docs for the Ramanetrix software">
    
    <link rel="preload" href="/assets/css/0.styles.ea7f181f.css" as="style"><link rel="preload" href="/assets/js/app.477596e9.js" as="script"><link rel="preload" href="/assets/js/2.b01279bc.js" as="script"><link rel="preload" href="/assets/js/3.d3ece033.js" as="script"><link rel="prefetch" href="/assets/js/10.3d78e863.js"><link rel="prefetch" href="/assets/js/11.838bd32b.js"><link rel="prefetch" href="/assets/js/12.e603822a.js"><link rel="prefetch" href="/assets/js/13.e278ae63.js"><link rel="prefetch" href="/assets/js/14.b8df3468.js"><link rel="prefetch" href="/assets/js/4.523512d1.js"><link rel="prefetch" href="/assets/js/5.77ba4997.js"><link rel="prefetch" href="/assets/js/6.d43f9dd6.js"><link rel="prefetch" href="/assets/js/7.021cd921.js"><link rel="prefetch" href="/assets/js/8.6e9bff83.js"><link rel="prefetch" href="/assets/js/9.13f6b7f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ea7f181f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="Ramanmetrix software" class="logo"> <span class="site-name can-hide">Ramanmetrix software</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/documentation/" class="nav-link router-link-active">
  Documentation
</a></div><div class="nav-item"><a href="https://ramanmetrix.eu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ramanmetrix online
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/documentation/" class="nav-link router-link-active">
  Documentation
</a></div><div class="nav-item"><a href="https://ramanmetrix.eu" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ramanmetrix online
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/documentation/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/documentation/Installation.html" class="sidebar-link">Installation</a></li><li><a href="/documentation/Data Input.html" class="active sidebar-link">Data Input</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#data-structure-types" class="sidebar-link">Data Structure Types</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#supported-devices" class="sidebar-link">Supported Devices</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#bpe-bio-particle-explorer-from-rap-id" class="sidebar-link">BPE (Bio Particle Explorer from rap.ID)</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#witec-project-four-software" class="sidebar-link">Witec (Project Four software)</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#renishaw-wire-software" class="sidebar-link">Renishaw (Wire software)</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#horiba-labspec-software" class="sidebar-link">Horiba (Labspec software)</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#kaiser-raman" class="sidebar-link">Kaiser Raman</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#ht-raman-ipht-iwan-schie" class="sidebar-link">HT Raman (IPHT, Iwan Schie)</a></li></ul></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#providing-metadata" class="sidebar-link">Providing Metadata</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#metadata-table" class="sidebar-link">Metadata Table</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#metadata-fo-the-calibration" class="sidebar-link">Metadata fo the calibration</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#step-by-step-instruction" class="sidebar-link">Step-by-step instruction</a></li><li class="sidebar-sub-header"><a href="/documentation/Data Input.html#defined-from-the-folder-structure" class="sidebar-link">Defined from the folder structure</a></li></ul></li></ul></li><li><a href="/documentation/Getting started.html" class="sidebar-link">Getting Started</a></li><li><a href="/documentation/Tutorial.html" class="sidebar-link">Tutorial</a></li><li><a href="/documentation/Online Version.html" class="sidebar-link">Online Version</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="data-input"><a href="#data-input" class="header-anchor">#</a> Data Input</h1> <h2 id="data-structure-types"><a href="#data-structure-types" class="header-anchor">#</a> Data Structure Types</h2> <p>Prior to importing data, the spectral data has to be exported from the device’s manufacturer software in one of the supported formats:</p> <p>*.spc data files with single or multiple Raman spectra (tested with WITec and Ren-ishaw devises). May fail to parse the date automatically, so the date should be provid-ed in metadata.</p> <p>*.txt files with single spectra. The files should contain wavenumbers in a first column and the spectral intensities in the second column. The columns should be separated with a tab stop symbol.
*.txt files with multiple spectra (time series and scans). Either of two structures can be used:</p> <ul><li>Generic (e.g. WITec Table export) format with spectra in columns (preferably) or rows. The first column/row should contain wavenumber axis. No additional columns/rows or column/row names are allowed.</li> <li>Format compatible with files exported from Renishaw. Spectrum indexes, timestamp, or coordinates should be indicated in columns for each wave-number index of each spectrum; wavenumbers and the respective spectral in-tensities should be indicated in two columns named “#Wave” and “#Intensity”. The columns should be separated with a tab stop symbol.</li> <li>spectra in rows, spectrum index or timestamp as row names, and wavenumbers as column names. The columns should be separated with a tab stop symbol; *.spc data files with single or multiple Raman spectra (tested with WITec and Renishaw devises). *.lpe data files (native rapID BPE format) with multiple spectra;</li></ul> <p>*.csv file with multiple spectra in rows, without row names. The wavenumbers have to be specified as a respective column names. The file also should contain a mandatory column DateTime with a timestamp (YYYY-MM-DD hh:mm:ss).</p> <h2 id="supported-devices"><a href="#supported-devices" class="header-anchor">#</a> Supported Devices</h2> <p>Supported Devices</p> <h3 id="bpe-bio-particle-explorer-from-rap-id"><a href="#bpe-bio-particle-explorer-from-rap-id" class="header-anchor">#</a> BPE (Bio Particle Explorer from rap.ID)</h3> <h3 id="witec-project-four-software"><a href="#witec-project-four-software" class="header-anchor">#</a> Witec (Project Four software)</h3> <h3 id="renishaw-wire-software"><a href="#renishaw-wire-software" class="header-anchor">#</a> Renishaw (Wire software)</h3> <h3 id="horiba-labspec-software"><a href="#horiba-labspec-software" class="header-anchor">#</a> Horiba (Labspec software)</h3> <h3 id="kaiser-raman"><a href="#kaiser-raman" class="header-anchor">#</a> Kaiser Raman</h3> <h3 id="ht-raman-ipht-iwan-schie"><a href="#ht-raman-ipht-iwan-schie" class="header-anchor">#</a> HT Raman (IPHT, Iwan Schie)</h3> <h2 id="providing-metadata"><a href="#providing-metadata" class="header-anchor">#</a> Providing Metadata</h2> <p>There are two ways to provide metadata: folder structure and a metadata table. Both can be use simultaneously, but values from metadata table overwrite the la-bels obtained from the folder structure.
The metadata are needed for calibration, cross-validation, predictive modeling, and data visualization. For example, standard spectra are linked to the sample spectra both by the device name and by the dates from the timestamps.
Intensity calibration and dark background subtraction can only be performed if respective measurements are specified in the metadata table.
Prior to importing the data, the files with spectral data and, optionally, the metadata files should be packed into a ZIP archive.</p> <h3 id="metadata-table"><a href="#metadata-table" class="header-anchor">#</a> Metadata Table</h3> <p>The metadata should be provided in the form of a table, saved as a CSV, XLS, or XLSX file within the ZIP file with data. Multiple metadata files are allowed (e.g. one per replicate).
The filename of metadata file should always contain the word “metadata”.</p> <p>The default columns (case-sensitive names) are:</p> <ul><li><strong>file</strong>: starting pattern of the file path within the ZIP file. Either full path to the file or a starting pattern of the full path should be specified. If am-biguous patterns are specified, then the longer pattern has a priority (e.g. values in row “folder/subfolder/” will overwrite metadata for the spectra in the subfolder, even if different metadata are set for the “fold-er/”). If no metadata is provided, then “file” column will be identical to filename and metadata are generated from the folder structure.</li> <li><strong>standard</strong>: logical (True or False values). “True” value indicates the files with wavenumber calibration standard. All other spectra should be la-beled as “False”.</li> <li><strong>standard_intensity</strong>: logical. Indicates the files with intensity standard spectra. The column may be skipped if no intensity standard was meas-ured.</li> <li><strong>dark_bg</strong>: logical. Indicates the files with dark background spectra. The column may be skipped if no dark background was measured.</li> <li><strong>date</strong>: dates of measurements. Used at wavenumber and (optionally) in-tensity calibration steps, as data from each date is calibrated separately. Should be specified if the dates cannot be detected correctly from files (e.g. *.lpe, *.csv, or some *.spc file formats) and folder structure (timestamps YYMMDD_hhmmss in file/folder names).</li> <li><strong>batch</strong>: default data segments for batch-out cross-validation (sets of inde-pendent measurements).</li> <li><strong>type</strong>: default class labels (the grouping that has most relevance).</li> <li><strong>device</strong>: measurement device name, id, or label. Used at calibration steps, as data from each device is calibrated separately. Should be speci-fied if cannot be detected correctly from folder structure (the top folder name within the imported *.zip file).
Other additional columns can be used as responses for the regression, alternative grouping for the classification and cross-validation, or to define how the spectra should be aggregated.</li></ul> <h3 id="metadata-fo-the-calibration"><a href="#metadata-fo-the-calibration" class="header-anchor">#</a> Metadata fo the calibration</h3> <p>The “date” column should contain the measurement date. If the column is missing, the timestamps from the folder structure or the dates embedded into the data ob-ject (*.lpe, *.csv, or some *.spc file formats) are used. Both “date” and “device” la-bels are needed to perform spectral calibration.
Columns “standard”, “standard_intensity”, and “dark_bg” should contain Boolean values (true or false). The true values in the respective columns indicate the measurements of standard materials for wavenumber calibration, for intensity calibration, and dark background subtraction, respectively</p> <h3 id="step-by-step-instruction"><a href="#step-by-step-instruction" class="header-anchor">#</a> Step-by-step instruction</h3> <ol><li>Open MS Excel and name the columns “file”, “standard”, “device”, “date”, “type”, and “batch”.</li></ol> <p><img src="/assets/img/metadata_table_1.de8f9b14.png" alt="Image from alias"></p> <div class="custom-block tip"><p class="custom-block-title">TIPS</p> <p>a.	You may add other columns with important information about the samples and use the order of the columns that is convenient for you.
b.	If the intensity standard or dark current were measured, then the columns “standard_intensity” and “dark_bg” (respectively) should be added to the table and used in a way similar to the “standard” column.</p></div> <ol start="2"><li>Copy the path to the data files within the ZIP file to the metadata table and fill out the other columns of the metadata table. For the sample data set value in “standard” column to FALSE.</li></ol> <p><img src="/assets/img/metadata_table_2.17805f15.png" alt="Image from alias"></p> <ol start="3"><li>Copy the path to the standard data, set value in a “standard” column into “TRUE”, specify the device and the date of measurement in the respective columns.</li></ol> <p><img src="/assets/img/metadata_table_3.2cca9224.png" alt="Image from alias"></p> <ol start="4"><li>Repeat the process for each folder and save the file with the word “metadata” in the filename.</li></ol> <p><img src="/assets/img/metadata_table_4.6b17b3e2.png" alt="Image from alias"></p> <ol start="5"><li>Put the metadata file inside the ZIP file (e.g. using “Drag and drop” method).</li></ol> <p><img src="/assets/img/metadata_table_5.661e8b41.png" alt="Image from alias"></p> <h3 id="defined-from-the-folder-structure"><a href="#defined-from-the-folder-structure" class="header-anchor">#</a> Defined from the folder structure</h3> <p>Besides providing labels as a separate metadata file, the files might be organized into a specific folder structure that represents labels:</p> <ul><li>Files with single spectra have to be placed in the folders of the following structure: “$device/.../$type/$batch/$SingleSpectrumFile.txt”</li> <li>Files with multiple spectra are considered as batches, so no additional folder for batch-es should be created. Instead, they should be placed in: “$device/.../$type/”</li> <li>Standard spectra (or folders with standard spectra) should be placed in subfolders which name equals to “AAP” or contains “4-AAP” or “4AAP”. These subfolders may be placed anywhere inside the “$device” folder.
The device name is specified by the top folder within the ZIP file. The timestamps are em-bedded in the *.spc, *.lpe, and *.csv files.
The pattern YYMMDD_hhmmss in file and folder names is interpreted as timestamp. For ex-ample, the timestamp “190530_121519” will be taken from the file, path to which is “da-ta_0/e12300123_102030/s19161010_151515/May30batch2/Sp_20190530_121519.txt”.
If no info about measurement date is detected, then the batch name is used to link standard data to the sample data. In this case, the standard spectra should be placed in folders named according to the batch/replicate labels inside the folders with standard data (for example in “data_0/AAC/May30batch2/”).
If the dates cannot be detected correctly from folder structure or file content, the date should be specified in the metadata file.
When the standard spectra are not available or cannot be linked to the data correctly using the date and device name, the data are approximated onto the new wavenumber axis without cal-ibration.</li></ul> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>It is preffered to provide the metadata table.</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/documentation/Installation.html" class="prev">
        Installation
      </a></span> <span class="next"><a href="/documentation/Getting started.html">
        Getting Started
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.477596e9.js" defer></script><script src="/assets/js/2.b01279bc.js" defer></script><script src="/assets/js/3.d3ece033.js" defer></script>
  </body>
</html>
